/*!
 * jQuery twitter bootstrap wizard plugin
 * Examples and documentation at: http://github.com/VinceG/twitter-bootstrap-wizard
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 * Authors: Vadim Vincent Gabriel (http://vadimg.com), Jason Gill (www.gilluminate.com)
 */
!function($){var bootstrapWizardCreate=function(element,options){var element=$(element),obj=this,baseItemSelector='li:has([data-toggle="tab"])',$settings=$.extend({},$.fn.bootstrapWizard.defaults,options),$activeTab=null,$navigation=null;this.rebindClick=function(selector,fn){selector.unbind("click",fn).bind("click",fn)},this.fixNavigationButtons=function(){if($activeTab.length||($navigation.find("a:first").tab("show"),$activeTab=$navigation.find(baseItemSelector+":first")),$($settings.previousSelector,element).toggleClass("disabled",obj.firstIndex()>=obj.currentIndex()),$($settings.nextSelector,element).toggleClass("disabled",obj.currentIndex()>=obj.navigationLength()),obj.rebindClick($($settings.nextSelector,element),obj.next),obj.rebindClick($($settings.previousSelector,element),obj.previous),obj.rebindClick($($settings.lastSelector,element),obj.last),obj.rebindClick($($settings.firstSelector,element),obj.first),$settings.onTabShow&&"function"==typeof $settings.onTabShow&&!1===$settings.onTabShow($activeTab,$navigation,obj.currentIndex()))return!1},this.next=function(e){return!element.hasClass("last")&&((!$settings.onNext||"function"!=typeof $settings.onNext||!1!==$settings.onNext($activeTab,$navigation,obj.nextIndex()))&&($index=obj.nextIndex(),void($index>obj.navigationLength()||$navigation.find(baseItemSelector+":eq("+$index+") a").tab("show"))))},this.previous=function(e){return!element.hasClass("first")&&((!$settings.onPrevious||"function"!=typeof $settings.onPrevious||!1!==$settings.onPrevious($activeTab,$navigation,obj.previousIndex()))&&($index=obj.previousIndex(),void($index<0||$navigation.find(baseItemSelector+":eq("+$index+") a").tab("show"))))},this.first=function(e){return(!$settings.onFirst||"function"!=typeof $settings.onFirst||!1!==$settings.onFirst($activeTab,$navigation,obj.firstIndex()))&&(!element.hasClass("disabled")&&void $navigation.find(baseItemSelector+":eq(0) a").tab("show"))},this.last=function(e){return(!$settings.onLast||"function"!=typeof $settings.onLast||!1!==$settings.onLast($activeTab,$navigation,obj.lastIndex()))&&(!element.hasClass("disabled")&&void $navigation.find(baseItemSelector+":eq("+obj.navigationLength()+") a").tab("show"))},this.currentIndex=function(){return $navigation.find(baseItemSelector).index($activeTab)},this.firstIndex=function(){return 0},this.lastIndex=function(){return obj.navigationLength()},this.getIndex=function(e){return $navigation.find(baseItemSelector).index(e)},this.nextIndex=function(){return $navigation.find(baseItemSelector).index($activeTab)+1},this.previousIndex=function(){return $navigation.find(baseItemSelector).index($activeTab)-1},this.navigationLength=function(){return $navigation.find(baseItemSelector).length-1},this.activeTab=function(){return $activeTab},this.nextTab=function(){return $navigation.find(baseItemSelector+":eq("+(obj.currentIndex()+1)+")").length?$navigation.find(baseItemSelector+":eq("+(obj.currentIndex()+1)+")"):null},this.previousTab=function(){return obj.currentIndex()<=0?null:$navigation.find(baseItemSelector+":eq("+parseInt(obj.currentIndex()-1)+")")},this.show=function(index){return isNaN(index)?element.find(baseItemSelector+" a[href=#"+index+"]").tab("show"):element.find(baseItemSelector+":eq("+index+") a").tab("show")},this.disable=function(index){$navigation.find(baseItemSelector+":eq("+index+")").addClass("disabled")},this.enable=function(index){$navigation.find(baseItemSelector+":eq("+index+")").removeClass("disabled")},this.hide=function(index){$navigation.find(baseItemSelector+":eq("+index+")").hide()},this.display=function(index){$navigation.find(baseItemSelector+":eq("+index+")").show()},this.remove=function(args){var $index=args[0],$removeTabPane=void 0!==args[1]&&args[1],$item=$navigation.find(baseItemSelector+":eq("+$index+")");if($removeTabPane){var $href=$item.find("a").attr("href");$($href).remove()}$item.remove()};var innerTabClick=function(e){var clickedIndex=$navigation.find(baseItemSelector).index($(e.currentTarget).parent(baseItemSelector));if($settings.onTabClick&&"function"==typeof $settings.onTabClick&&!1===$settings.onTabClick($activeTab,$navigation,obj.currentIndex(),clickedIndex))return!1},innerTabShown=function(e){$element=$(e.target).parent();var nextTab=$navigation.find(baseItemSelector).index($element);return!$element.hasClass("disabled")&&((!$settings.onTabChange||"function"!=typeof $settings.onTabChange||!1!==$settings.onTabChange($activeTab,$navigation,obj.currentIndex(),nextTab))&&($activeTab=$element,void obj.fixNavigationButtons()))};this.resetWizard=function(){$('a[data-toggle="tab"]',$navigation).off("click",innerTabClick),$('a[data-toggle="tab"]',$navigation).off("shown shown.bs.tab",innerTabShown),$navigation=element.find("ul:first",element),$activeTab=$navigation.find(baseItemSelector+".active",element),$('a[data-toggle="tab"]',$navigation).on("click",innerTabClick),$('a[data-toggle="tab"]',$navigation).on("shown shown.bs.tab",innerTabShown),obj.fixNavigationButtons()},$navigation=element.find("ul:first",element),$activeTab=$navigation.find(baseItemSelector+".active",element),$navigation.hasClass($settings.tabClass)||$navigation.addClass($settings.tabClass),$settings.onInit&&"function"==typeof $settings.onInit&&$settings.onInit($activeTab,$navigation,0),$settings.onShow&&"function"==typeof $settings.onShow&&$settings.onShow($activeTab,$navigation,obj.nextIndex()),$('a[data-toggle="tab"]',$navigation).on("click",innerTabClick),$('a[data-toggle="tab"]',$navigation).on("shown shown.bs.tab",innerTabShown)};$.fn.bootstrapWizard=function(options){if("string"==typeof options){var args=Array.prototype.slice.call(arguments,1);return 1===args.length&&args.toString(),this.data("bootstrapWizard")[options](args)}return this.each((function(index){var element=$(this);if(!element.data("bootstrapWizard")){var wizard=new bootstrapWizardCreate(element,options);element.data("bootstrapWizard",wizard),wizard.fixNavigationButtons()}}))},$.fn.bootstrapWizard.defaults={tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onTabChange:null,onTabClick:null,onTabShow:null}}(jQuery);